<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Absensi Siswa</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="login-container">
        <div class="login-box">
            <div class="logo-section">
                <div class="logo-circle"></div>
                <h1>SISTEM ABSENSI</h1>
                <p class="subtitle">RFID Student Attendance</p>
            </div>

            <form method="POST" action="{{ url_for('login') }}" class="login-form">
                {% if error %}
                <div class="error-message">
                    <span class="error-icon">‚ö†Ô∏è</span>
                    <span>{{ error }}</span>
                </div>
                {% endif %}

                <div class="form-group">
                    <label for="nama">Nama Lengkap</label>
                    <input 
                        type="text" 
                        id="nama" 
                        name="nama" 
                        placeholder="Masukkan nama lengkap" 
                        required
                        autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="nis">NIS (Nomor Induk Siswa)</label>
                    <input 
                        type="text" 
                        id="nis" 
                        name="nis" 
                        placeholder="Masukkan NIS" 
                        required
                        autocomplete="off"
                        pattern="[0-9]*"
                        inputmode="numeric">
                </div>

                <button type="submit" class="login-button">
                    <span>MASUK</span>
                    <span class="arrow">‚Üí</span>
                </button>
            </form>

            <div class="info-text">
                <p>üìå Pastikan Nama dan NIS yang Anda masukkan sesuai dengan data yang terdaftar</p>
                <p class="note">Huruf besar/kecil pada nama diabaikan</p>
            </div>
        </div>

        <div class="footer-info">
            <p>Creator: Bagas Rizky</p>
            <p class="version">v1.0 - 2025</p>
        </div>
    </div>

    <script>
        // Auto uppercase nama saat mengetik
        document.getElementById('nama').addEventListener('input', function(e) {
            // Simpan posisi cursor
            const start = e.target.selectionStart;
            const end = e.target.selectionEnd;
            
            // Tidak ubah value, biarkan user ketik normal
            // Uppercase akan dilakukan di backend
        });

        // Validasi NIS hanya angka
        document.getElementById('nis').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
        });

        // Animasi saat submit
        document.querySelector('.login-form').addEventListener('submit', function(e) {
            const button = this.querySelector('.login-button');
            button.style.transform = 'scale(0.95)';
            button.style.opacity = '0.8';
        });
    </script>
</body>
</html>
